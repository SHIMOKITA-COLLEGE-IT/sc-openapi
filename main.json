{
  "openapi": "3.1.0",
  "x-stoplight": {
    "id": "h57ut1i2gjak8"
  },
  "info": {
    "title": "main",
    "version": "1.0"
  },
  "servers": [
    {
      "url": "https://stoplight.io/mocks/college-app/college-app/406762",
      "description": "Mock Server"
    }
  ],
  "paths": {
    "/login": {
      "post": {
        "summary": "Login",
        "operationId": "post-login",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "accessToken": {
                      "type": "string"
                    },
                    "user": {
                      "$ref": "#/components/schemas/User",
                      "description": "ÂàùÊúüÁôªÈå≤„Éï„Ç©„Éº„É†Êú™ÂõûÁ≠î„ÅÆÂ†¥Âêà„ÅÆ„Åø\n"
                    }
                  },
                  "required": [
                    "accessToken"
                  ]
                }
              }
            }
          },
          "401": {
            "description": "ÁÑ°Âäπ„Å™firebaseIdToken"
          },
          "403": {
            "description": "Disabled„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÄÅ„Å§„Åæ„ÇäBAN„Åï„Çå„Å¶„ÅÑ„Çã„Ç¢„Ç´„Ç¶„É≥„Éà"
          },
          "404": {
            "description": "Airtable‰∏ä„Å´„Éá„Éº„Çø„ÅåÂ≠òÂú®„Åó„Åæ„Åõ„Çì\n\nÂÖà„Å´Airtable„ÅßEmail„Å†„Åë„Åß„ÇÇÁôªÈå≤„Åó„Å¶„Åè„Å†„Åï„ÅÑ"
          }
        },
        "parameters": [],
        "description": "## Ê¶ÇË¶Å\naccessToken„ÇíÂèñÂæó„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç®„É≥„Éâ„Éù„Ç§„É≥„Éà„ÄÇ\n\nÂàùÊúüÁôªÈå≤„Éï„Ç©„Éº„É†Êú™ÂõûÁ≠î„ÅÆÂ†¥Âêà„ÄÅUserÊÉÖÂ†±„ÇíÂèñÂæó„Åô„Çã„ÄÇ\n\n## „É¨„Çπ„Éù„É≥„Çπ„Å´„Çà„Çã„ÇØ„É©„Ç§„Ç¢„É≥„ÉàÂÅ¥„ÅÆÂàÜÂ≤ê\n\n- 200\n  - „É¨„Çπ„Éù„É≥„Çπ„Å´user„Åå„ÅÇ„Çã\n    - ÂàùÊúüÁôªÈå≤„Éï„Ç©„Éº„É†„Å´ÈÅ∑Áßª„ÄÅdefaultÂÄ§„Å´user„Çí‰ΩøÁî®\n  - „É¨„Çπ„Éù„É≥„Çπ„Å´user„Åå„Å™„ÅÑ\n    - Home„Å´ÈÅ∑Áßª\n- 401\n  - „Äå„Åì„ÅÆ„Ç®„É©„Éº„ÅåÂá∫„Åü„ÇâÈÅãÂñ∂„Å´Â†±Âëä„Åó„Å¶„Å≠„Äç„Ç®„É©„Éº„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª\n- 403\n  - „Äå„Åì„ÅÆ„Ç¢„Ç´„Ç¶„É≥„Éà„ÅØÁÑ°ÂäπÂåñ„Åï„Çå„Å¶„Çã„Çà„Äç„Ç®„É©„Éº„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª\n- 404\n  - „Äå„Åæ„Å†ÈÅãÂñ∂ÂÅ¥„Åß„Éá„Éº„ÇøÁôªÈå≤„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Å™„ÅÑ„Çà„Äç„Ç®„É©„Éº„Éö„Éº„Ç∏„Å´ÈÅ∑Áßª\n",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "firebaseIdToken": {
                    "type": "string",
                    "description": "ÂèñÂæóÊñπÊ≥ï„ÅØ[„Åì„Å°„Çâ](https://firebase.google.com/docs/auth/admin/verify-id-tokens#retrieve_id_tokens_on_clients)\n"
                  }
                },
                "required": [
                  "firebaseIdToken"
                ]
              }
            }
          }
        }
      }
    },
    "/users": {
      "put": {
        "summary": "Update User",
        "operationId": "put-users",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "description": "Airtable‰∏ä„ÅÆUserÊÉÖÂ†±„Çí„Ç¢„ÉÉ„Éó„Éá„Éº„Éà„Åô„Çã",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "i18n": {
                    "type": "array",
                    "items": {
                      "$ref": "#/components/schemas/UserI18n"
                    }
                  },
                  "imageUrl": {
                    "type": "string",
                    "format": "uri"
                  },
                  "pronoun": {
                    "type": "string",
                    "enum": [
                      "SHE_HER",
                      "HE_HIM",
                      "THEY_THEM"
                    ]
                  },
                  "birthday": {
                    "type": "string",
                    "format": "date"
                  },
                  "hideAge": {
                    "type": "boolean",
                    "default": false
                  },
                  "socialLinks": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "brandId": {
                          "type": "string",
                          "description": "Airtable's Social Brand Record ID"
                        },
                        "username": {
                          "type": "string"
                        }
                      },
                      "required": [
                        "brandId",
                        "username"
                      ]
                    }
                  },
                  "roomNumber": {
                    "type": "number",
                    "minimum": 100,
                    "maximum": 599
                  },
                  "postNumber": {
                    "type": "number",
                    "minimum": 100,
                    "maximum": 599
                  },
                  "selfIntroductionSlideUrl": {
                    "type": "string",
                    "format": "uri"
                  },
                  "programs": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "generationId": {
                          "type": "string",
                          "description": "Airtable's Generation Record ID"
                        }
                      },
                      "required": [
                        "generationId"
                      ]
                    }
                  },
                  "houses": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "generationId": {
                          "type": "string",
                          "description": "Airtable's Generation Record ID"
                        }
                      },
                      "required": [
                        "generationId"
                      ]
                    }
                  },
                  "committees": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "groupId": {
                          "type": "string",
                          "description": "Airtable's Group Record ID"
                        },
                        "from": {
                          "type": "string",
                          "format": "date"
                        },
                        "to": {
                          "type": "string",
                          "format": "date"
                        }
                      },
                      "required": [
                        "groupId"
                      ]
                    }
                  },
                  "clubs": {
                    "type": "array",
                    "items": {
                      "type": "object",
                      "properties": {
                        "groupId": {
                          "type": "string",
                          "description": "Airtable's Group Record ID"
                        },
                        "from": {
                          "type": "string",
                          "format": "date"
                        },
                        "to": {
                          "type": "string",
                          "format": "date"
                        }
                      },
                      "required": [
                        "groupId"
                      ]
                    }
                  },
                  "position": {
                    "type": "string",
                    "description": "ËÇ©Êõ∏„Åç"
                  },
                  "bio": {
                    "type": "string",
                    "description": "Markdown"
                  },
                  "photoUrls": {
                    "type": "array",
                    "items": {
                      "type": "string",
                      "format": "uri"
                    }
                  }
                }
              }
            }
          }
        },
        "parameters": [],
        "x-internal": false,
        "security": [
          {
            "accessToken": []
          }
        ]
      },
      "get": {
        "summary": "Get Users",
        "operationId": "get-users",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        },
        "description": "ÂÖ®„Å¶„ÅÆ„É¶„Éº„Ç∂„Éº„ÇíÂèñÂæó„Åô„Çã",
        "security": [
          {
            "accessToken": []
          }
        ]
      }
    },
    "/users/search": {
      "get": {
        "summary": "Search Users (WIP)",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/User"
                  }
                }
              }
            }
          }
        },
        "operationId": "get-users-search",
        "parameters": [
          {
            "schema": {
              "type": "string"
            },
            "in": "query",
            "name": "query",
            "description": "Ê§úÁ¥¢„ÉØ„Éº„Éâ",
            "required": true
          }
        ],
        "security": [
          {
            "accessToken": []
          }
        ],
        "description": "## TODO\n\n- [ ] „Éï„Ç£„É´„Çø„É™„É≥„Ç∞\n- [ ] „Éö„Éº„Ç∏„Éç„Éº„Ç∑„Éß„É≥"
      }
    },
    "/users/{recordId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "recordId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get User",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/User"
                }
              }
            }
          }
        },
        "operationId": "get-users-recordId",
        "security": [
          {
            "accessToken": []
          }
        ],
        "description": "ÊåáÂÆö„ÅÆuser„ÇíÂèñÂæó"
      }
    },
    "/generations": {
      "get": {
        "summary": "Get Generations",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Generation"
                  }
                }
              }
            }
          }
        },
        "operationId": "get-generations",
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "program",
                "house"
              ]
            },
            "in": "query",
            "name": "type",
            "required": true
          }
        ],
        "security": [
          {
            "accessToken": []
          }
        ],
        "description": "ÊåáÂÆö„Åó„Åütype„ÅÆ`Generation`„ÇíÂÖ®„Å¶ÂèñÂæó„Åô„Çã"
      }
    },
    "/generations/{recordId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "recordId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get Generation",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Generation"
                }
              }
            }
          }
        },
        "operationId": "get-generations-recordId",
        "security": [
          {
            "accessToken": []
          }
        ],
        "description": "ÊåáÂÆö„ÅÆgeneration„ÇíÂèñÂæó"
      }
    },
    "/groups": {
      "get": {
        "summary": "Get Groups",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/Group"
                  }
                }
              }
            }
          }
        },
        "operationId": "get-groups",
        "security": [
          {
            "accessToken": []
          }
        ],
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": [
                "committee",
                "club"
              ]
            },
            "in": "query",
            "name": "type"
          }
        ],
        "description": "ÊåáÂÆö„Åó„Åütype„ÅÆ`Group`„ÇíÂÖ®„Å¶ÂèñÂæó„Åô„Çã"
      }
    },
    "/groups/{recordId}": {
      "parameters": [
        {
          "schema": {
            "type": "string"
          },
          "name": "recordId",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get Group",
        "tags": [],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Group"
                }
              }
            }
          }
        },
        "operationId": "get-groups-recordId",
        "security": [
          {
            "accessToken": []
          }
        ],
        "description": "ÊåáÂÆö„ÅÆGroup„ÇíÂèñÂæó"
      }
    }
  },
  "components": {
    "schemas": {
      "User": {
        "title": "User",
        "x-stoplight": {
          "id": "80vqy0i3q5qhd"
        },
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Airtable's Record ID"
          },
          "email": {
            "type": "string",
            "example": "hoge@hlab.college",
            "format": "email"
          },
          "role": {
            "type": "string",
            "enum": [
              "resident",
              "alumni",
              "staff"
            ]
          },
          "i18n": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserI18n"
            }
          },
          "imageUrl": {
            "type": "string",
            "format": "uri"
          },
          "pronoun": {
            "type": "string",
            "enum": [
              "SHE_HER",
              "HE_HIM",
              "THEY_THEM"
            ]
          },
          "birthday": {
            "type": "string",
            "format": "date"
          },
          "hideAge": {
            "type": "boolean",
            "default": false
          },
          "socialLinks": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserSocialLink"
            }
          },
          "roomNumber": {
            "type": "number",
            "minimum": 100,
            "maximum": 599
          },
          "postNumber": {
            "type": "number",
            "minimum": 100,
            "maximum": 599
          },
          "selfIntroductionSlideUrl": {
            "type": "string",
            "format": "uri"
          },
          "programs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Generation"
            }
          },
          "houses": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Generation"
            }
          },
          "committees": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserGroupBelonging"
            }
          },
          "clubs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/UserGroupBelonging"
            }
          },
          "position": {
            "type": "string",
            "description": "ËÇ©Êõ∏„Åç"
          },
          "bio": {
            "type": "string",
            "description": "Markdown"
          },
          "photoUrls": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            }
          },
          "lastModifiedAt": {
            "type": "string",
            "format": "date"
          }
        },
        "required": [
          "id",
          "email",
          "role",
          "i18n"
        ]
      },
      "UserI18n": {
        "title": "UserI18n",
        "x-stoplight": {
          "id": "871f6591b945e"
        },
        "type": "object",
        "examples": [
          {
            "locale": "ja",
            "firstName": "Â§™ÈÉé",
            "lastName": "ÊÖ∂Êáâ",
            "phoneticFirstName": "„Çø„É≠„Ç¶",
            "phoneticLastName": "„Ç±„Ç§„Ç™„Ç¶",
            "nickName": "„Åë„ÅÑ„Åü„Çç„ÅÜ"
          },
          {
            "locale": "en",
            "firstName": "Taro",
            "lastName": "Keio",
            "nickName": "Keitaro"
          }
        ],
        "properties": {
          "locale": {
            "enum": [
              "ja",
              "en"
            ],
            "type": "string"
          },
          "firstName": {
            "type": "string"
          },
          "lastName": {
            "type": "string"
          },
          "phoneticFirstName": {
            "type": "string"
          },
          "phoneticLastName": {
            "type": "string"
          },
          "nickName": {
            "type": "string"
          },
          "middleName": {
            "type": "string"
          },
          "phoneticMiddleName": {
            "type": "string"
          },
          "maidenName": {
            "type": "string"
          },
          "prefix": {
            "type": "string"
          },
          "suffix": {
            "type": "string"
          }
        },
        "required": [
          "locale",
          "firstName",
          "lastName"
        ]
      },
      "UserGroupBelonging": {
        "title": "UserGroupBelonging",
        "x-stoplight": {
          "id": "mbwu85j19fka0"
        },
        "type": "object",
        "properties": {
          "group": {
            "$ref": "#/components/schemas/Group"
          },
          "displayName": {
            "type": "string",
            "example": "„Ç´„É¨„ÉÉ„Ç∏„É©„Ç§„ÉïÂàÜÁßë‰ºö (22.04~)"
          },
          "from": {
            "type": "string",
            "format": "date"
          },
          "to": {
            "type": "string",
            "format": "date"
          }
        },
        "required": [
          "group",
          "displayName"
        ]
      },
      "UserSocialLink": {
        "title": "UserSocialLink",
        "x-stoplight": {
          "id": "0f1pz4ffn9owr"
        },
        "type": "object",
        "properties": {
          "brand": {
            "$ref": "#/components/schemas/SocialBrand"
          },
          "username": {
            "type": "string",
            "example": "chiji1108"
          }
        },
        "required": [
          "brand",
          "username"
        ]
      },
      "SocialBrand": {
        "title": "SocialBrand",
        "x-stoplight": {
          "id": "x5aug333lhdcu"
        },
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Airtable's Record ID"
          },
          "name": {
            "type": "string",
            "example": "twitter"
          },
          "svgIconUrl": {
            "type": "string",
            "format": "uri"
          },
          "urlPrefix": {
            "type": "string",
            "format": "uri",
            "example": "https://twitter.com/"
          },
          "formPrefix": {
            "type": "string",
            "example": "@"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "Group": {
        "title": "Group",
        "x-stoplight": {
          "id": "i4tun9gkx8vpc"
        },
        "type": "object",
        "description": "`Committee`, `Club`",
        "properties": {
          "id": {
            "type": "string",
            "description": "Airtable's Record ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "committee",
              "club",
              "project"
            ]
          },
          "displayName": {
            "type": "string",
            "default": "„Ç´„É¨„ÉÉ„Ç∏„É©„Ç§„ÉïÂàÜÁßë‰ºö"
          },
          "createdAt": {
            "type": "string",
            "format": "date"
          },
          "archivedAt": {
            "type": "string",
            "format": "date"
          },
          "emoji": {
            "type": "string",
            "example": "üìö"
          },
          "title": {
            "type": "string",
            "example": "„Ç´„É¨„ÉÉ„Ç∏„É©„Ç§„ÉïÂàÜÁßë‰ºö"
          },
          "description": {
            "type": "string",
            "description": "Markdown"
          },
          "slackChannel": {
            "type": "string",
            "example": "#310_coco_collegelife"
          },
          "photoUrls": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            }
          }
        },
        "required": [
          "id",
          "type",
          "displayName"
        ]
      },
      "Generation": {
        "title": "Generation",
        "x-stoplight": {
          "id": "rd01g8hw4cdca"
        },
        "type": "object",
        "description": "`Program`, `House/Home`",
        "properties": {
          "id": {
            "type": "string",
            "description": "Airtable's Record ID"
          },
          "type": {
            "type": "string",
            "enum": [
              "program",
              "house"
            ]
          },
          "displayName": {
            "type": "string",
            "example": "RP2ÊúüÁîü"
          },
          "from": {
            "type": "string",
            "format": "date"
          },
          "to": {
            "type": "string",
            "format": "date"
          },
          "coverImageUrl": {
            "type": "string",
            "format": "uri"
          },
          "title": {
            "type": "string",
            "example": "Residential Program 2ÊúüÁîü"
          },
          "description": {
            "type": "string",
            "description": "Markdown"
          },
          "photoUrls": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            }
          }
        },
        "required": [
          "id",
          "type",
          "displayName"
        ]
      }
    },
    "securitySchemes": {
      "accessToken": {
        "type": "http",
        "scheme": "bearer",
        "description": "`Authrization: Bearer <accessToken>`\n\n`accessToken`„ÅØ`/login`„ÅßÂèñÂæó„Åô„Çã„ÄÇ"
      }
    },
    "requestBodies": {}
  }
}